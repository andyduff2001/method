function Translate(a,b,c,d,e){this.$translate=a,this.$translatePartialLoader=b,this.storage=c,this.disableTranslations=e,this.configure(angular.extend(d,this.getConfig())),this.addPart=b.addPart}function TranslateProvider(a){this.$translateProvider=a,this.setPreferredLanguage=a.preferredLanguage}angular.module("Volusion.directives",[]),angular.module("Volusion.filters",[]),angular.module("Volusion.services",[]),angular.module("Volusion.decorators",[]),angular.module("Volusion.controllers",[]),angular.module("methodApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngTouch","ui.bootstrap","pascalprecht.translate","snap","seo","angulartics","Volusion.toolboxCommon","Volusion.controllers","Volusion.decorators","Volusion.directives","Volusion.filters","Volusion.services"]).config(["$routeProvider","$locationProvider","translateProvider",function(a,b,c){"use strict";b.html5Mode(!0);var d={};c.configure(d),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",resolve:{translations:["translate",function(a){return a.addParts("main")}]}}).when("/p/:slug",{templateUrl:"views/product.html",controller:"ProductCtrl",resolve:{translations:["translate",function(a){return a.addParts("product")}]}}).when("/c/:slug",{templateUrl:"views/category.html",controller:"CategoryCtrl"}).when("/:slug",{templateUrl:"views/article.html",controller:"ArticleCtrl"}).otherwise({redirectTo:"/"})}]).run(["snapRemote","$rootScope","$window","themeSettings",function(a,b,c,d){"use strict";b.isInDesktopMode=!0,enquire.register("screen and (max-width: 991px)",{unmatch:function(){a.close(),b.isInDesktopMode=!0},match:function(){b.isInDesktopMode=!1}}),b.$on("$routeChangeSuccess",function(){a.close()}),b.$on("$routeChangeError",function(a,b,d,e,f,g){a.preventDefault(),404===g.status&&c.location.replace("/404.html")}),d.init()}]),angular.module("Volusion.directives").directive("easyZoom",function(){"use strict";function a(a){b.standardSrc&&b.zoomSrc&&(a.swap(b.standardSrc,b.zoomSrc),b={})}var b={};return{restrict:"A",replace:!0,templateUrl:"template/easyZoom.html",scope:{ngSrc:"=",ezAdjacent:"=",ezOverlay:"=",ezZoomSrc:"=",alt:"@"},link:function(c,d){var e=d.easyZoom(),f=e.data("easyZoom");c.$watch("ngSrc",function(c){void 0!==c&&(b.standardSrc=c,a(f))}),c.$watch("ezZoomSrc",function(c){void 0!==c&&(b.zoomSrc=c,a(f))}),c.$on("$destroy",function(){f.teardown()})}}}).run(["$templateCache",function(a){"use strict";a.put("template/easyZoom.html",'<div class="easyzoom easyzoom--adjacent" data-ng-class="{ \'easyzoom--adjacent\': ezAdjacent, \'easyzoom--overlay\': ezOverlay }"><a data-ng-href="{{ezZoomSrc}}"><img class="img-responsive" data-ng-src="{{ngSrc}}" alt="{{alt}}"><div class="th-product-view__zoom"></div></a></div>')}]),angular.module("Volusion.directives").directive("legacyLink",["$window",function(a){"use strict";return{restrict:"A",link:function(b,c,d){c.attr("href",d.legacyLink),c.on("click",function(b){b.preventDefault(),a.location.assign(this.href)})}}}]),angular.module("methodApp").directive("vnFacetSearch",function(){"use strict";return{templateUrl:"/views/partials/vn-facet-search.html",restrict:"AE",scope:{facets:"="},link:["scope","vnProductParams",function(a,b){a.$watch("facets",function(b){a.facets=b}),console.log(b),a.selectedFacets=[],a.refineFacetSearch=function(b){if(-1===a.selectedFacets.indexOf(b))a.selectedFacets.push(b),console.log(a.selectedFacets);else{var c=a.selectedFacets.indexOf(b);a.selectedFacets.splice(c,1),console.log(a.selectedFacets)}}}]}}),angular.module("methodApp").directive("vnCategorySearch",function(){"use strict";return{templateUrl:"/views/partials/vn-category-search.html",restrict:"AE",scope:{categories:"="},link:function(a){a.$watch("categories",function(b){b&&b[0]&&(a.categories=b[0],a.subCategories=b[0].subCategories)})}}}),angular.module("methodApp").controller("MainCtrl",["$scope","$rootScope","$location","$window","$timeout","vnApi","themeSettings",function(a,b,c,d,e,f,g){"use strict";function h(b){var c=0,d=0,e=0,f=[];angular.forEach(angular.element("."+b),function(a){return 0===c&&(d=angular.element(a).position().top),angular.element(a).position().top!==d?(e=c,!1):void c++}),0!==e&&(a.displaySmartNavMoreMenuItem=!0,a.smartNavMoreCategories=[],angular.forEach(a.categories,function(b,c){c>=e-1?a.smartNavMoreCategories.push(b):f.push(b)}),a.smartNavCategories=f),angular.element("."+b).css("visibility","visible")}a.themeSettings=g.getThemeSettings(),c.path().indexOf("/theme-settings")>=0&&(b.hideWrapper=!0),f.Product().get({filter:"featured",pageSize:4}).$promise.then(function(b){a.featuredProducts=b.data}),b.seo={},a.isPrimaryNavReady=!1,b.windowWidth=d.outerWidth,angular.element(d).bind("resize",function(){b.windowWidth=d.outerWidth,b.$apply("windowWidth")}),b.$watch("windowWidth",function(){a.displaySmartNavMoreMenuItem=!1,angular.element(".nav-top-level-menu-items").css("visibility","hidden"),a.smartNavCategories=a.categories,e(function(){h("nav-top-level-menu-items")},0)}),f.Nav().get({navId:1}).$promise.then(function(b){a.smartNavCategories=a.categories=b.data,e(function(){h("nav-top-level-menu-items")},0)},function(a){console.log("Error: "+a)}),a.config=f.Configuration().get(),a.cart=f.Cart().get(),$(document).ready(function(){$('[data-toggle="popover"]').popover(),$("body").on("click",function(a){$('[data-toggle="popover"]').each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})})})}]),angular.module("methodApp").controller("CategoryCtrl",["$q","$scope","$rootScope","$routeParams","vnApi",function(a,b,c,d,e){"use strict";c.seo={};var f={slug:d.slug,facets:"1841,1842,1843"};e.Category().get(f).$promise.then(function(a){b.category=a.data}).then(function(){e.Product().query({categoryIds:b.category.id}).$promise.then(function(a){b.products=a.data,b.facets=a.facets,b.categories=a.categories})})}]),angular.module("Volusion.controllers").controller("ProductCtrl",["$rootScope","$scope","vnApi","$sce","$location","$routeParams","$anchorScroll",function(a,b,c,d,e,f,g){"use strict";function h(){j.optionSelection={images:"default"},j.image=j.images.default[0],k.options=k.options||{}}function i(a){k.quantity+=a;var b=j.optionSelection;b&&(b.available-=a)}var j={},k={};b.carousel={interval:4e3},b.accordionPanels={isopen1:!0},b.tabs={relatedProducts:{active:!0},accessories:{active:!1}},c.Product().get({code:f.slug}).$promise.then(function(c){b.product=c.data;var d=e.absUrl(),f=b.seo.metaTagTitle;b.product.sharing={facebook:"http://www.facebook.com/sharer.php?u="+d+"/",twitter:"http://twitter.com/share?url="+d+"&amp;text="+f,tumblr:"http://www.tumblr.com/share/link?url="+d+"&amp;name="+f,googlePlus:"https://plus.google.com/share?url="+d},j=b.product,k=b.cartItem=j.cartItem,b.isInDesktopMode=a.isInDesktopMode,angular.extend(b.seo,j.seo),h()}).then(function(){var a=j.categories[0].id;c.Product().get({categoryIds:a,pageNumber:1,pageSize:4}).$promise.then(function(a){b.relatedProducts=a.data}),c.Product().get({accessoriesOf:j.code,pageNumber:1,pageSize:4}).$promise.then(function(a){b.accessories=a.data})}),b.$on("$stateChangeSuccess",function(){e.hash("top"),g(),e.hash("")}),b.$watch("product.optionSelection",function(a,b){function c(){}function d(){var b=a.sku;null!==b&&void 0!==b?k.sku=b:delete k.sku}function e(){return k.hasOwnProperty("sku")?(a.available<k.quantity&&(k.quantity=a.available),0===k.quantity&&a.available>0&&(k.quantity=1),void(a.available-=k.quantity)):(k.quantity=0,void(a.available=0))}function f(){(void 0===b||a.images!==b.images)&&(j.image=j.images[a.images][0])}void 0!==a&&(c(),d(),e(),f())}),c.Review().get({code:f.slug}).$promise.then(function(a){b.ratingsAndReviews=a}),b.decrementQty=function(){i(-1)},b.incrementQty=function(){i(1)}}]),angular.module("methodApp").controller("PageCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("Volusion.services").provider("config",function(){function a(){this.greet=function(){return b}}var b="Hello";this.setSalutation=function(a){b=a},this.$get=function(){return new a}});var ApiEndpointConfig=function(a){"use strict";var b={"delete":{method:"DELETE"},get:{method:"GET"},patch:{method:"PATCH"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},save:{method:"POST"},update:{method:"PUT"}};this.actions=angular.extend(b,a||{});var c=this;angular.forEach(c.actions,function(a,b){c.addHttpAction(b,a)})};ApiEndpointConfig.prototype.route=function(a){"use strict";return this.route=a,this},ApiEndpointConfig.prototype.model=function(a){"use strict";return this.model=a,this},ApiEndpointConfig.prototype.addHttpAction=function(a,b){"use strict";this.actions[a]=b};var ApiEndpoint=function(a,b,c){"use strict";this.config=b,this.resource=c(a+b.route,{},b.actions);var d=this;angular.forEach(b.actions,function(a,b){var c=d.request;d[b]=angular.bind(d,c,b)})};ApiEndpoint.prototype.request=function(a,b,c){"use strict";return this.resource[a](b,c).$promise};var ApiProvider=function(){"use strict";this.baseRoute="",this.endpoints={}};ApiProvider.prototype.setBaseRoute=function(a){"use strict";this.baseRoute=a},ApiProvider.prototype.endpoint=function(a,b){"use strict";var c=new ApiEndpointConfig(b);return this.endpoints[a]=c,c},ApiProvider.prototype.$get=["$resource",function(a){"use strict";var b={},c=this;return angular.forEach(c.endpoints,function(d,e){b[e]=new ApiEndpoint(c.baseRoute,d,a)}),b}],angular.module("Volusion.services").provider("api",ApiProvider).config(["apiProvider",function(a){"use strict";var b={save:{method:"POST",headers:{vMethod:"POST"}},update:{method:"POST",headers:{vMethod:"PUT"}}};a.endpoint("products").route("/products/:code"),a.endpoint("reviews").route("/products/:code/reviews"),a.endpoint("categories").route("/categories/:id"),a.endpoint("config").route("/config"),a.endpoint("relatedProducts").route("/products/:code/relatedProducts"),a.endpoint("accessories").route("/products/:code/accessories"),a.endpoint("navs").route("/navs/:navId"),a.endpoint("carts",b).route("/carts/:cartId")}]),angular.module("Volusion.services").factory("tokenGenerator",function(){"use strict";function a(){return{_:(new Date).valueOf()}}return{getCacheBustingToken:a}});var storageKey="VN_TRANSLATE";Translate.prototype.getConfig=function(){var a=this.storage,b=JSON.parse(a.get(storageKey))||{},c=a.get("NG_TRANSLATE_LANG_KEY");return!this.disableTranslations&&c&&"undefined"!==c&&(b.lang=c),b},Translate.prototype.configure=function(a){a=angular.extend(this.getConfig(),a),this.storage.set(storageKey,JSON.stringify(a)),this.$translate.use(a.lang)},Translate.prototype.addParts=function(){if(this.disableTranslations)return!0;var a=this.$translatePartialLoader;return angular.forEach(arguments,angular.bind(this,function(b){a.addPart(b)})),this.$translate.refresh()},TranslateProvider.prototype.$get=["$translate","$translatePartialLoader","storage",function(a,b,c){var d=this.options;return new Translate(a,b,c,{region:d.region,lang:d.lang,country:d.country},d.disableTranslations)}],TranslateProvider.prototype.configure=function(a){a=angular.extend({region:"us",lang:"en",country:"us"},a),a.lang&&this.setPreferredLanguage(a.lang),this.options=a,a.disableTranslations||this.initTranslateProvider(a.lang)},TranslateProvider.prototype.initTranslateProvider=function(a){var b=this.$translateProvider;b.useLoader("$translatePartialLoader",{urlTemplate:"/translations/{part}/{lang}.json"}),"en"===a&&b.useMessageFormatInterpolation(),b.useMissingTranslationHandlerLog(),b.useLocalStorage()},angular.module("Volusion.services").provider("translate",["$translateProvider",TranslateProvider]),angular.module("Volusion.services").factory("storage",["$window","$cookieStore",function(a,b){function c(){return{get:function(b){var c=a.localStorage.getItem(b);return null===c?d(b):c},set:function(b,c){return a.localStorage.setItem(b,c)},remove:function(b){return a.localStorage.removeItem(b)}}}function d(a){var c=b.get(a);return"undefined"==typeof c?null:c}function e(){return{get:function(a){return d(a)},set:function(a,c){return b.put(a,c)},remove:function(a){return b.remove(a)}}}return"localStorage"in a&&null!==a.localStorage?c():e()}]),angular.module("Volusion.services").service("themeSettings",["vnApi",function(a){"use strict";function b(){a.ThemeSettings().get().$promise.then(function(a){d=a})}function c(){return d}var d={};return{init:b,getThemeSettings:c}}]),angular.module("Volusion.services").factory("vnProductParams",function(){"use strict";function a(a){B.sort=a}function b(){return B.sort}function c(){B.sort=""}function d(a){B.accessoriesOf=a}function e(){return B.accessoriesOf}function f(){B.accessoriesOf=""}function g(a){B.maxPrice=a}function h(){return B.maxPrice}function i(){B.maxPrice=""}function j(a){B.minPrice=a}function k(){return B.minPrice}function l(){B.minPrice=""}function m(a){B.search=a}function n(){B.search=""}function o(a){B.slug=a}function p(){B.slug=""}function q(a){z.push(a),B.categoryIds=r()}function r(){return z.join(",")}function s(a){var b=z.indewxOf(a);z.splice(b,1),B.categoryIds=r()}function t(){return B}function u(){B={categoryIds:"",slug:"",facets:"",minPrice:"",maxPrice:"",accessoriesOf:"",sort:"",pageNumber:"",pageSize:""}}function v(a){A.push(a),B.facets=w()}function w(){return A.join(",")}function x(a){return A.indexOf(a)>-1}function y(a){var b=A.indexOf(a);A.splice(b,1),B.facets=w()}var z=[],A=[],B={categoryIds:"",slug:"",facets:"",minPrice:"",maxPrice:"",accessoriesOf:"",sort:"",pageNumber:"",pageSize:""};return{addCategory:q,removeCategory:s,addFacet:v,isFacetSelected:x,removeFacet:y,getParamsObject:t,resetParamsObject:u,updateSlug:o,removeSlug:p,updateSearch:m,removeSearch:n,setMinPrice:j,getMinPrice:k,removeMinPrice:l,setMaxPrice:g,getMaxPrice:h,removeMaxPrice:i,setAccessoriesOf:d,getAccessoriesOf:e,removeAccessoriesOf:f,setSort:a,getSort:b,removeSort:c}}),angular.module("Volusion.filters").filter("seoFriendly",function(){"use strict";return function(a){var b=a.match(/[0-9a-z]+/gi);return b?b.join("-"):""}}),angular.module("Volusion.filters").filter("html",["$sce",function(a){"use strict";return function(b){return a.trustAsHtml(b)}}]),angular.module("Volusion.controllers").controller("ArticleCtrl",["$rootScope","$scope","$templateCache","$routeParams","vnApi",function(a,b,c,d){"use strict";d.Article().get({slug:"how-do-i-return-an-item"}).$promise.then(function(c){b.article=c.data,a.seo=angular.extend(a.seo||{},b.article.seo)})}]);