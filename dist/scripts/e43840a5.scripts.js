function Translate(a,b,c,d,e){this.$translate=a,this.$translatePartialLoader=b,this.storage=c,this.disableTranslations=e,this.configure(angular.extend(d,this.getConfig())),this.addPart=b.addPart}function TranslateProvider(a){this.$translateProvider=a,this.setPreferredLanguage=a.preferredLanguage}angular.module("Volusion.directives",[]),angular.module("Volusion.filters",[]),angular.module("Volusion.services",[]),angular.module("Volusion.decorators",[]),angular.module("Volusion.controllers",[]),angular.module("methodApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngRoute","ngTouch","ui.bootstrap","pascalprecht.translate","snap","seo","angulartics","Volusion.toolboxCommon","Volusion.controllers","Volusion.decorators","Volusion.directives","Volusion.filters","Volusion.services"]).config(["$routeProvider","$locationProvider","translateProvider","AppConfigProvider",function(a,b,c,d){"use strict";console.log(d),"localhost"===location.hostname?(d.setApiPath("http://www.samplestore.io/api/v1"),d.setIsLocalEnv(!0)):(d.setApiPath("/api/v1"),d.setIsLocalEnv(!1)),b.html5Mode(!0);var e={urlPrefix:d.getPrefix(),region:d.getRegion(),lang:d.getLang(),country:d.getCountry(),disableTranslations:d.getTranslations()};c.configure(e),a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl",resolve:{translations:["translate",function(a){return a.addParts("home")}]}}).when("/p/:slug",{templateUrl:"views/product.html",controller:"ProductCtrl",resolve:{translations:["translate",function(a){return a.addParts("product")}]}}).when("/c/:slug",{templateUrl:"views/category.html",controller:"CategoryCtrl"}).when("/:slug",{templateUrl:"views/article.html",controller:"ArticleCtrl"}).otherwise({redirectTo:"/"})}]).run(["snapRemote","$rootScope","$window","SiteConfig","themeSettings","Cart",function(a,b,c,d,e,f){"use strict";b.isInDesktopMode=!0,enquire.register("screen and (max-width: 991px)",{unmatch:function(){a.close(),b.isInDesktopMode=!0},match:function(){b.isInDesktopMode=!1}}),b.$on("$routeChangeSuccess",function(){a.close()}),b.$on("$routeChangeError",function(a,b,d,e,f,g){a.preventDefault(),404===g.status&&c.location.replace("/404.html")}),d.init(),e.init(),f.init()}]),angular.module("Volusion.directives").directive("easyZoom",function(){"use strict";function a(a){b.standardSrc&&b.zoomSrc&&(a.swap(b.standardSrc,b.zoomSrc),b={})}var b={};return{restrict:"A",replace:!0,templateUrl:"template/easyZoom.html",scope:{ngSrc:"=",ezAdjacent:"=",ezOverlay:"=",ezZoomSrc:"=",alt:"@"},link:function(c,d){var e=d.easyZoom(),f=e.data("easyZoom");c.$watch("ngSrc",function(c){void 0!==c&&(b.standardSrc=c,a(f))}),c.$watch("ezZoomSrc",function(c){void 0!==c&&(b.zoomSrc=c,a(f))}),c.$on("$destroy",function(){f.teardown()})}}}).run(["$templateCache",function(a){"use strict";a.put("template/easyZoom.html",'<div class="easyzoom easyzoom--adjacent" data-ng-class="{ \'easyzoom--adjacent\': ezAdjacent, \'easyzoom--overlay\': ezOverlay }"><a data-ng-href="{{ezZoomSrc}}"><img class="img-responsive" data-ng-src="{{ngSrc}}" alt="{{alt}}"><div class="th-product-view__zoom"></div></a></div>')}]),angular.module("Volusion.directives").directive("legacyLink",["$window",function(a){"use strict";return{restrict:"A",link:function(b,c,d){c.attr("href",d.legacyLink),c.on("click",function(b){b.preventDefault(),a.location.assign(this.href)})}}}]),angular.module("Volusion.controllers").controller("HomeCtrl",["$scope","$rootScope","$location","$window","$timeout","vnApi","themeSettings",function(a,b,c,d,e,f,g){"use strict";function h(b){var c=0,d=0,e=0,f=[];angular.forEach(angular.element("."+b),function(a){return 0===c&&(d=angular.element(a).position().top),angular.element(a).position().top!==d?(e=c,!1):void c++}),0!==e&&(a.displaySmartNavMoreMenuItem=!0,a.smartNavMoreCategories=[],angular.forEach(a.categories,function(b,c){c>=e-1?a.smartNavMoreCategories.push(b):f.push(b)}),a.smartNavCategories=f),angular.element("."+b).css("visibility","visible")}console.log("vnApi in home",f),a.themeSettings=g.getThemeSettings(),c.path().indexOf("/theme-settings")>=0&&(b.hideWrapper=!0),f.Product().get({filter:"featured",pageSize:4}).$promise.then(function(b){a.featuredProducts=b.data}),b.seo={},a.isPrimaryNavReady=!1,b.windowWidth=d.outerWidth,angular.element(d).bind("resize",function(){b.windowWidth=d.outerWidth,b.$apply("windowWidth")}),b.$watch("windowWidth",function(){a.displaySmartNavMoreMenuItem=!1,angular.element(".nav-top-level-menu-items").css("visibility","hidden"),a.smartNavCategories=a.categories,e(function(){h("nav-top-level-menu-items")},0)}),f.Nav().get({navId:1}).$promise.then(function(b){console.log("nav response: ",b),a.smartNavCategories=a.categories=b.data,e(function(){h("nav-top-level-menu-items")},0)},function(a){console.log("Error: "+a)}),a.config=f.Configuration().get(),a.cart=f.Cart().get()}]),angular.module("Volusion.controllers").controller("CategoryCtrl",["$q","$scope","$rootScope","$routeParams","vnApi","vnProductParams",function(a,b,c,d,e,f){"use strict";function g(){var a=f.getParamsObject();e.Product().query(a).$promise.then(function(a){console.log("product response.data",a),b.products=a.data,b.facets=a.facets,b.categories=a.categories,b.subCategories=a.categories.subCategories})}function h(a){e.Category().get({slug:a}).$promise.then(function(a){console.log("category response data: ",a),b.category=a.data,f.addCategory(a.data.id),g()})}c.seo={},b.currentCategory={},h(d.slug),c.$on("ProductSearch.facetsUpdated",function(){g()}),c.$on("ProductSearch.categoriesUpdated",function(a,b){f.addCategory(b.categoryId),g()}),b.$on("$destroy",function(){f.resetParamsObject()})}]),angular.module("Volusion.controllers").controller("ProductCtrl",["$rootScope","$scope","vnApi","$location","$routeParams","$anchorScroll","Cart",function(a,b,c,d,e,f,g){"use strict";function h(){b.product.optionSelection={images:"default"},b.product.image=b.product.images.default[0],b.cartItem.options=b.cartItem.options||{}}function i(a){b.cartItem.qty+=a;var c=b.product.optionSelection;c&&c.available-a>=0&&(c.available-=a)}function j(a,b){return a.$$phase||a.$root.$$phase?b():a.$apply(b)}b.product={},b.cartItem={},b.carousel={interval:4e3},b.accordionPanels={isopen1:!0},b.tabs={relatedProducts:{active:!0},accessories:{active:!1}},c.Product().get({slug:e.slug}).$promise.then(function(c){b.product=c.data;var e=d.absUrl(),f=b.seo.metaTagTitle;b.product.sharing={facebook:"http://www.facebook.com/sharer.php?u="+e+"/",twitter:"http://twitter.com/share?url="+e+"&amp;text="+f,tumblr:"http://www.tumblr.com/share/link?url="+e+"&amp;name="+f,googlePlus:"https://plus.google.com/share?url="+e},b.cartItem=b.product.cartItem,b.isInDesktopMode=a.isInDesktopMode,angular.extend(b.seo,b.product.seo),h()}).then(function(){var a=b.product.categories[0].id;c.Product().get({categoryIds:a,pageNumber:1,pageSize:4}).$promise.then(function(a){b.relatedProducts=a.data}),c.Product().get({accessoriesOf:b.product.code,pageNumber:1,pageSize:4}).$promise.then(function(a){b.accessories=a.data})}),b.$on("$stateChangeSuccess",function(){d.hash("top"),f(),d.hash("")}),a.$on("VN_PRODUCT_SELECTED",function(a,b){b.product.optionSelection=b}),b.$watch("product",function(){b.product.code&&c.Review().get({code:b.product.code}).$promise.then(function(a){b.ratingsAndReviews=a})}),b.$watch("product.optionSelection",function(a,c){function d(){}function e(){b.cartItem.code=b.product.code}function f(){return a.isValid?(a.available<b.cartItem.qty&&(b.cartItem.qty=a.available),0===b.cartItem.qty&&a.available>0&&(b.cartItem.qty=1),void(a.available-=b.cartItem.qty)):(b.cartItem.qty=0,void(a.available=0))}function g(){(void 0===c||a.images!==c.images)&&(b.product.image=b.product.images[a.images][0])}void 0!==a&&(d(),e(),f(),g(),b.isAddToCartButtonEnabled=a.isValid&&b.cartItem.qty>0)}),b.decrementQty=function(){i(-1)},b.incrementQty=function(){i(1)},b.addToCart=function(){g.saveCart(b.cartItem).then(function(){j(b,function(){b.cartItem.qty=0,i(b.product.optionSelection.available&&1)})})}}]),angular.module("methodApp").controller("PageCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("Volusion.controllers").controller("ArticleCtrl",["$rootScope","$scope","$templateCache","$routeParams","vnApi",function(a,b,c,d){"use strict";d.Article().get({slug:"how-do-i-return-an-item"}).$promise.then(function(c){b.article=c.data,a.seo=angular.extend(a.seo||{},b.article.seo)})}]);var ApiEndpointConfig=function(a){"use strict";var b={"delete":{method:"DELETE"},get:{method:"GET"},patch:{method:"PATCH"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},save:{method:"POST"},update:{method:"PUT"}};this.actions=angular.extend(b,a||{});var c=this;angular.forEach(c.actions,function(a,b){c.addHttpAction(b,a)})};ApiEndpointConfig.prototype.route=function(a){"use strict";return this.route=a,this},ApiEndpointConfig.prototype.model=function(a){"use strict";return this.model=a,this},ApiEndpointConfig.prototype.addHttpAction=function(a,b){"use strict";this.actions[a]=b};var ApiEndpoint=function(a,b,c){"use strict";this.config=b,this.resource=c(a+b.route,{},b.actions);var d=this;angular.forEach(b.actions,function(a,b){var c=d.request;d[b]=angular.bind(d,c,b)})};ApiEndpoint.prototype.request=function(a,b,c){"use strict";return this.resource[a](b,c).$promise};var ApiProvider=function(){"use strict";this.baseRoute="",this.endpoints={}};ApiProvider.prototype.setBaseRoute=function(a){"use strict";this.baseRoute=a},ApiProvider.prototype.endpoint=function(a,b){"use strict";var c=new ApiEndpointConfig(b);return this.endpoints[a]=c,c},ApiProvider.prototype.$get=["$resource",function(a){"use strict";var b={},c=this;return angular.forEach(c.endpoints,function(d,e){b[e]=new ApiEndpoint(c.baseRoute,d,a)}),b}],angular.module("Volusion.services").provider("api",ApiProvider).config(["apiProvider",function(a){"use strict";var b={save:{method:"POST",headers:{vMethod:"POST"}},update:{method:"POST",headers:{vMethod:"PUT"}}};a.endpoint("products").route("/products/:code"),a.endpoint("reviews").route("/products/:code/reviews"),a.endpoint("categories").route("/categories/:id"),a.endpoint("config").route("/config"),a.endpoint("relatedProducts").route("/products/:code/relatedProducts"),a.endpoint("accessories").route("/products/:code/accessories"),a.endpoint("navs").route("/navs/:navId"),a.endpoint("carts",b).route("/carts/:cartId")}]),angular.module("Volusion.services").factory("tokenGenerator",function(){"use strict";function a(){return{_:(new Date).valueOf()}}return{getCacheBustingToken:a}});var storageKey="VN_TRANSLATE";Translate.prototype.getConfig=function(){var a=this.storage,b=JSON.parse(a.get(storageKey))||{},c=a.get("NG_TRANSLATE_LANG_KEY");return!this.disableTranslations&&c&&"undefined"!==c&&(b.lang=c),b},Translate.prototype.configure=function(a){a=angular.extend(this.getConfig(),a),this.storage.set(storageKey,JSON.stringify(a)),this.$translate.use(a.lang)},Translate.prototype.addParts=function(){if(this.disableTranslations)return!0;var a=this.$translatePartialLoader;return angular.forEach(arguments,angular.bind(this,function(b){a.addPart(b)})),this.$translate.refresh()},TranslateProvider.prototype.$get=["$translate","$translatePartialLoader","storage",function(a,b,c){var d=this.options;return new Translate(a,b,c,{region:d.region,lang:d.lang,country:d.country},d.disableTranslations)}],TranslateProvider.prototype.configure=function(a){a=angular.extend({region:"us",lang:"en",country:"us"},a),a.lang&&this.setPreferredLanguage(a.lang),this.options=a,a.disableTranslations||this.initTranslateProvider(a.lang)},TranslateProvider.prototype.initTranslateProvider=function(a){var b=this.$translateProvider;b.useLoader("$translatePartialLoader",{urlTemplate:"/translations/{part}/{lang}.json"}),"en"===a&&b.useMessageFormatInterpolation(),b.useMissingTranslationHandlerLog(),b.useLocalStorage()},angular.module("Volusion.services").provider("translate",["$translateProvider",TranslateProvider]),angular.module("Volusion.services").factory("storage",["$window","$cookieStore",function(a,b){function c(){return{get:function(b){var c=a.localStorage.getItem(b);return null===c?d(b):c},set:function(b,c){return a.localStorage.setItem(b,c)},remove:function(b){return a.localStorage.removeItem(b)}}}function d(a){var c=b.get(a);return"undefined"==typeof c?null:c}function e(){return{get:function(a){return d(a)},set:function(a,c){return b.put(a,c)},remove:function(a){return b.remove(a)}}}return"localStorage"in a&&null!==a.localStorage?c():e()}]),angular.module("Volusion.services").service("themeSettings",["vnApi",function(a){"use strict";function b(){a.ThemeSettings().get().$promise.then(function(a){d=a})}function c(){return d}var d={};return{init:b,getThemeSettings:c}}]),angular.module("Volusion.services").service("Cart",["vnApi",function(a){"use strict";function b(){a.Cart({cartId:""}).get().$promise.then(function(a){e=a.data})}function c(){return e}function d(b){return a.Cart().save({cartId:e.id},b).$promise.then(function(a){return e=a.data})}var e={};return{init:b,getCart:c,saveCart:d}}]),angular.module("Volusion.services").provider("AppConfig",function(){"use strict";function a(){this.AppConfig=function(){return this},this.getCheckoutCartId=function(){return 1}}var b="",c=!0,d=!1,e="",f="us",g="en",h="us";this.getIsLocalEnv=function(){return c},this.getApiPath=function(){return b},this.getTranslations=function(){return d},this.getPrefix=function(){return e},this.getRegion=function(){return f},this.getLang=function(){return g},this.getCountry=function(){return h},this.setApiPath=function(a){b=a},this.setIsLocalEnv=function(a){c=a},this.setTranslations=function(a){d=a},this.setPrefix=function(a){e=a},this.setRegion=function(a){f=a},this.setLang=function(a){g=a},this.setCountry=function(a){h=a},this.$get=function(){return new a}}),angular.module("Volusion.filters").filter("seoFriendly",function(){"use strict";return function(a){var b=a.match(/[0-9a-z]+/gi);return b?b.join("-"):""}}),angular.module("Volusion.filters").filter("html",["$sce",function(a){"use strict";return function(b){return a.trustAsHtml(b)}}]),angular.module("Volusion.filters").filter("legacyLinkify",function(){"use strict";return function(a){var b=angular.element("<div/>").html(a);return angular.forEach(b.find("a"),function(a){var b=angular.element(a);b.attr("target",b.attr("target")||"_self")}),b.html()}}),angular.module("Volusion.services").service("SiteConfig",["vnApi",function(a){"use strict";var b={};return b.init=function(){a.Configuration().get().$promise.then(function(a){b=a.data})},b}]);